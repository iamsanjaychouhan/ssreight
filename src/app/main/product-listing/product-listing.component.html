<div class="product-list-sec pt-15 pb-5">
  <div class="container">
    <div class="row">
      <div class="col-12 col-sm-12 col-md-5 col-lg-4 col-xl-3">
        <div class="sidebar-sticky desktop-view">
          <ul class="bg-white box-shadow1 filter-list">
            <li class="filter-block border-b">
              <div class="label-block">
                <h5 class="h5 color-black fontfamily-bold mt-2 mb-2">Filter</h5>
                <button class="reset-btn" (click)="resetforms()">Clear All</button>
              </div>
            </li>
            <li class="filter-block border-b"> 
              <div class="label-block">
                <div class="label-title">Price</div>
              </div>
                <ng5-slider [(value)]="rangeSliderMinValue" [(highValue)]="rangeSliderMaxValue" [options]="rangeSliderOptions"></ng5-slider>
                <div class="value-block">
                  <span class="value-box">Min: &nbsp;<input type="text" class="price-range-input" name="price_min" [(ngModel)]="rangeSliderMinValue"></span>
                  <span class="value-box">Max: &nbsp;<input type="text" class="price-range-input" name="price_max" [(ngModel)]="rangeSliderMaxValue"></span>
                </div>
            </li>
            <li class="filter-block  border-b">
              <div class="label-block">
                <div class="label-title">Discount</div>
              </div>
              <div class="relative checkbox-listing pb-2">
                  <div class="discount-type">
                    <div class="radio mt-0 mb-0">
                      <label class="discount-type-inner">
                        <input type="radio" name="remember" (click)="filtercheck('discountpercent','10-20')">
                        <span class="cr">
                          10% - 20%
                        </span>
                      </label>
                      <label class="discount-type-inner">
                        <input type="radio" name="remember" (click)="filtercheck('discountpercent','21-30')">
                        <span class="cr">
                          21% - 30%
                        </span>
                      </label>
                      <label class="discount-type-inner">
                        <input type="radio" name="remember" (click)="filtercheck('discountpercent','31-40')">
                        <span class="cr">
                          31% - 40%
                        </span>
                      </label>
                      <label class="discount-type-inner">
                        <input type="radio" name="remember" (click)="filtercheck('discountpercent','41-50')">
                        <span class="cr">
                          41% - 50%
                        </span>
                      </label>
                      <label class="discount-type-inner">
                        <input type="radio" name="remember" (click)="filtercheck('discountpercent','51-60')">
                        <span class="cr">
                          51% - 60%
                        </span>
                      </label>
                      <label class="discount-type-inner">
                        <input type="radio" name="remember" (click)="filtercheck('discountpercent','61-70')">
                        <span class="cr">
                          61% - 70%
                        </span>
                      </label>
                      <label class="discount-type-inner">
                        <input type="radio" name="remember" (click)="filtercheck('discountpercent','71-80')">
                        <span class="cr">
                          71% - 80%
                        </span>
                      </label>
                      <label class="discount-type-inner">
                        <input type="radio" name="remember" (click)="filtercheck('discountpercent','81-90')">
                        <span class="cr">
                          81% & above
                        </span>
                      </label>
                    </div>
                  </div>
              </div>
            </li>
            <li class="filter-block border-b">
              <div class="label-block">
                <div class="label-title">Brand</div>
              </div>
              <div class="relative checkbox-listing listoverflow">
                <mat-checkbox class="display-b" (change)="onChange('brand',brand.id, $event)"
                  *ngFor="let brand of newArray">
                  <span class="fontsize-14 color-gray">{{brand.name}}</span>
                </mat-checkbox>
              </div>
            </li>
            <span *ngFor="let newArr of newArray">
              <p>{{newArr}}</p>
            </span>
          </ul>
          <div class="relative button-block bottom-sticky">
            <button class="btn btn-green btn-shadow custom-btn" (click)="searchrecord('yes')" mat-button>Apply</button>
          </div>
        </div>
      </div>
      <div class="col-12 col-sm-12 col-md-7 col-lg-8 col-xl-9 right-body">
        <h6 class="h6 fontfamily-bold color-black pt-3">{{categoryname}}</h6>
        <form  #sortingform="ngForm">
          <div class="sort-box">
            <a href="JavaScript:Void(0);" class="relative fontfamily-bold">Sort By</a>
            <a href="JavaScript:Void(0);" (click)="sorting('price','low')" class="relative fontfamily-bold"
              [ngClass]="{'active': SPL==1}"><span class="">Price -- </span>Low to High</a>
            <a href="JavaScript:Void(0);" (click)="sorting('price','high')" class="relative fontfamily-bold active"
              [ngClass]="{'active': SPH==1}"><span class="">Price -- </span>High to Low</a>
            <a href="JavaScript:Void(0);" (click)="sorting('discount','low')" class="relative fontfamily-bold"
              [ngClass]="{'active': SDL==1}"><span class="">Discount -- </span>Low to High</a>
            <a href="JavaScript:Void(0);" (click)="sorting('discount','high')" class="relative fontfamily-bold"
              [ngClass]="{'active': SDH==1}"><span class="">Discount -- </span>High to Low</a>
          </div>
        </form>
        <div class="row">
          <ul class="product-list-wrapper">
            <li class="main-product-box" *ngFor="let result of results">
              <div class="relative onhover-addtocard">
                <div class="product-box-wrapper">
                  <a class="product-b ox" routerLink="/product/{{result.parent_category_name | removewhitespaces | lowercase }}/{{result.category_name | removewhitespaces | lowercase }}/{{result.product_name | removewhitespaces | lowercase }}/{{result.product_id}}">
                    <div class="product-img-div">
                      <img src="{{link}}/{{result.product_id}}/{{result.image}}" class="product-img">
                    </div>
                    <div class="product-title">
                      {{((result.product_name).length>20)?(result.product_name | slice:0:20)+'...':(result.product_name) }}
                    </div>
                  </a>
                  <div class="price-block">
                    <div style="line-height: 18px;">
                      <span class="new-price fontfamily-Heavy">₹ {{result.product_dprice}}</span>
                      <del class="old-price fonnfamily-medium">₹ {{result.product_price}}</del>
                    </div>
                  </div>
                </div>
                <div class="sizedialog">
                  <ngb-toast *ngIf="show && result.product_id == product_id" header="cancel" [delay]="5000"
                    [autohide]="false" (mouseenter)="autohide = false" (mouseleave)="autohide = false"
                    (hide)="show = false; autohide = false">

                    <div *ngIf="!autohide && current_product_sizes.length">
                      <div class="size-bottom-sheet">
                        <form class="example-form pt-2 pb-0">
                          <p class="pro-description-title">Select Size</p>
                          <div class="size-check pb-1">
                            <div class="radio mt-0 mb-0">
                              <label class="size-check-inner" *ngFor="let _size of current_product_sizes">
                                <input type="radio" name="size" [value]="_size.size_value"
                                  (change)="onsizechange(_size.size_value)">
                                <span class="cr">{{_size.size_value}}</span>
                              </label>
                              <span class="error error">{{this.size_err}}</span>
                            </div>
                          </div>
                        </form>
                      </div>
                    </div>

                    <div *ngIf="!autohide && current_product_colors.length">
                      <div class="size-bottom-sheet">
                        <form class="example-form pt-2 pb-0">
                          <p class="pro-description-title">Select Color</p>
                          <div class="color-check pb-1">
                            <div class="radio mt-0 mb-0">
                              <label class="color-check-inner" *ngFor="let _color of current_product_colors">
                                <input type="radio" name="color" value="_color.color_name"
                                  (change)="oncolorchange(_color.color_name,_color.color_code)">
                                <span class="cr color-circle" [style.background-color]="_color.color_name"></span>
                              </label>
                              <span class="error error">{{this.color_err}}</span>
                            </div>
                          </div>
                        </form>
                      </div>
                    </div>
                  </ngb-toast>
                </div>
              </div>
            </li>
          </ul>
          <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 align-center mt-40" *ngIf="(results) && (results== null)">
            <ngx-spinner bdColor = "rgba(0, 0, 0, 0.8)" size = "medium" color = "#fff" type = "ball-spin-clockwise" [fullScreen] = "true"><p style="color: white" > Loading... </p></ngx-spinner>
          </div>
        </div>
        <div class="row">
          <div class="align-center col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 mt-40">
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
